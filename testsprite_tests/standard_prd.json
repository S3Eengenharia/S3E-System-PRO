{
  "meta": {
    "project": "S3E System PRO",
    "date": "2025-11-14",
    "prepared_by": "Antonio Junior dos Santos"
  },
  "product_overview": "S3E System PRO is a comprehensive ERP system tailored for electrical engineering companies. It provides integrated management of the full project lifecycle, from quotation creation through project execution and financial control, streamlining operations, enhancing efficiency, and delivering professional-quality documentation and reports.",
  "core_goals": [
    "Centralize and automate operational, administrative, and financial processes for electrical engineering companies.",
    "Enable comprehensive management of budgets, projects, works, inventory, financials, and teams within a single platform.",
    "Provide real-time dashboards and analytical reports for informed business decisions.",
    "Ensure security and controlled access through a robust role-based access control system.",
    "Facilitate professional and customizable document generation, including PDFs and electronic invoices.",
    "Support data import/export and integration with external systems for scalability and flexibility."
  ],
  "key_features": [
    "Dashboard with real-time statistics, alerts, and quick actions.",
    "Complete budget management with automatic cost calculation, margin computation, and PDF generation with customizable templates and watermarks.",
    "Robust catalog and stock control of electrical materials including categorization, stock alerts, and supplier linkage.",
    "Management of modular kits and electrical panels with stock control and item tracking.",
    "Project lifecycle management including creation from budgets, status tracking, Kanban boards, tasks, and administrative procedures.",
    "Comprehensive worksite (obra) control with task assignments, progress tracking, photos, and team allocation.",
    "Team and resource management with scheduling, Gantt charts, and availability controls.",
    "CRM features for client management with full CRUD and history.",
    "Supplier and purchase order management with invoice handling and stock updates.",
    "Integrated financial module managing accounts receivable/payable, fixed expenses, and reports.",
    "Electronic invoice (NFe) issuance integrated with digital certificates and status control.",
    "System configuration options, including company data, theming, and templates.",
    "Audit logs capturing user actions and system changes for traceability.",
    "Security with JWT and RBAC enforcing role-specific permissions.",
    "Import and export of data in CSV/JSON and XML formats for materials, templates, and invoices."
  ],
  "user_flow_summary": [
    "Users create detailed budgets including materials, kits, and services, then generate and customize PDFs for client approval.",
    "Upon budget approval, users convert budgets into sales and create linked projects to initiate execution.",
    "Project managers oversee project statuses through Kanban boards, manage tasks and administrative steps.",
    "Field teams track worksite tasks, report progress with images, and manage team allocations.",
    "Financial teams handle accounts payable and receivable associated with sales, purchases, and fixed expenses with payment tracking.",
    "Administrators manage users, roles, company configurations, and audit system logs for compliance and operational oversight."
  ],
  "validation_criteria": [
    "System correctly calculates costs, margins, and budgets with accurate PDF generation.",
    "Dashboards update in real-time and display accurate metrics and alerts.",
    "Role-based access control properly restricts or grants access to features according to assigned user roles.",
    "Data import/export works reliably without data loss or corruption in all supported formats.",
    "Electronic invoicing integrates correctly with digital certificates and maintains invoice status synchronization.",
    "Audit logs capture all critical user actions for security and traceability.",
    "User interfaces are responsive, accessible, and provide proper feedback and error handling.",
    "Financial transactions and reports reflect up-to-date and consistent data across modules."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "React",
      "Node.js",
      "Express",
      "PostgreSQL",
      "Prisma",
      "Vite",
      "TailwindCSS",
      "Puppeteer",
      "JWT",
      "Axios",
      "React Router",
      "Jodit Editor",
      "jsPDF",
      "Recharts",
      "Sonner",
      "Radix UI"
    ],
    "features": [
      {
        "name": "Dashboard",
        "description": "Painel principal com estatísticas e gráficos financeiros",
        "files": [
          "frontend/src/components/Dashboard.tsx",
          "frontend/src/components/DashboardAPI.tsx",
          "frontend/src/components/DashboardModerno.tsx",
          "frontend/src/components/FinanceiroDashboard.tsx",
          "backend/src/controllers/dashboardController.ts",
          "backend/src/services/relatorios.service.ts"
        ]
      },
      {
        "name": "Orçamentos",
        "description": "Gestão completa de orçamentos com criação, edição, visualização e geração de PDF",
        "files": [
          "frontend/src/components/Orcamentos.tsx",
          "frontend/src/pages/NovoOrcamentoPage.tsx",
          "frontend/src/services/orcamentosService.ts",
          "backend/src/controllers/orcamentosController.ts",
          "backend/src/services/pdfOrcamento.service.ts"
        ]
      },
      {
        "name": "Vendas",
        "description": "Gestão de vendas com criação, visualização e integração com orçamentos",
        "files": [
          "frontend/src/components/Vendas.tsx",
          "frontend/src/services/vendasService.ts",
          "backend/src/controllers/vendasController.ts",
          "backend/src/services/vendas.service.ts"
        ]
      },
      {
        "name": "Projetos",
        "description": "Gestão de projetos com visualização detalhada e links rápidos",
        "files": [
          "frontend/src/components/Projetos.tsx",
          "frontend/src/components/ProjetosAPI.tsx",
          "frontend/src/components/ProjetosModerno.tsx",
          "frontend/src/components/ModalVizualizacaoProjeto.tsx",
          "frontend/src/services/projetosService.ts",
          "backend/src/controllers/projetosController.ts"
        ]
      },
      {
        "name": "Obras",
        "description": "Gestão de obras com Kanban, tarefas, alocações de equipes e eletricistas",
        "files": [
          "frontend/src/components/Obras.tsx",
          "frontend/src/pages/ObrasKanban.tsx",
          "frontend/src/pages/DetalhesObra.tsx",
          "frontend/src/components/ObraKanban.tsx",
          "frontend/src/components/TarefasObra.tsx",
          "frontend/src/components/GestaoObras.tsx",
          "frontend/src/services/obrasService.ts",
          "backend/src/controllers/obraController.ts",
          "backend/src/controllers/alocacaoController.ts"
        ]
      },
      {
        "name": "Clientes",
        "description": "Gestão de clientes com CRUD completo",
        "files": [
          "frontend/src/components/Clientes.tsx",
          "frontend/src/components/ClientesAPI.tsx",
          "frontend/src/components/ClientesModerno.tsx",
          "frontend/src/services/clientesService.ts",
          "backend/src/controllers/clientesController.ts"
        ]
      },
      {
        "name": "Materiais",
        "description": "Gestão de estoque e materiais com movimentações e importação/exportação JSON",
        "files": [
          "frontend/src/components/Materiais.tsx",
          "frontend/src/services/materiaisService.ts",
          "frontend/src/utils/importExportTemplates.ts",
          "backend/src/controllers/materiaisController.ts"
        ]
      },
      {
        "name": "Fornecedores",
        "description": "Gestão de fornecedores com visualização em grid e lista",
        "files": [
          "frontend/src/components/Fornecedores.tsx",
          "frontend/src/components/FornecedoresAPI.tsx",
          "frontend/src/components/FornecedoresModerno.tsx",
          "frontend/src/services/fornecedoresService.ts",
          "backend/src/controllers/fornecedoresController.ts"
        ]
      },
      {
        "name": "Compras",
        "description": "Gestão de pedidos de compra",
        "files": [
          "frontend/src/components/Compras.tsx",
          "frontend/src/services/comprasService.ts",
          "backend/src/controllers/comprasController.ts"
        ]
      },
      {
        "name": "Movimentações",
        "description": "Controle de movimentações de estoque",
        "files": [
          "frontend/src/components/Movimentacoes.tsx",
          "frontend/src/services/movimentacoesService.ts",
          "backend/src/controllers/movimentacoesController.ts"
        ]
      },
      {
        "name": "Contas a Receber",
        "description": "Gestão de contas a receber com visualização de vendas",
        "files": [
          "frontend/src/components/ContasAReceber.tsx",
          "backend/src/controllers/contasPagarController.ts"
        ]
      },
      {
        "name": "Financeiro",
        "description": "Dashboard financeiro com estatísticas e gráficos",
        "files": [
          "frontend/src/components/Financeiro.tsx",
          "frontend/src/components/FinanceiroDashboard.tsx",
          "frontend/src/components/ExportarRelatorioFinanceiro.tsx",
          "frontend/src/services/financeiroService.ts",
          "backend/src/services/relatorios.service.ts"
        ]
      },
      {
        "name": "Autenticação",
        "description": "Sistema de autenticação com JWT e controle de acesso baseado em papéis (RBAC)",
        "files": [
          "frontend/src/components/Login.tsx",
          "frontend/src/contexts/AuthContext.tsx",
          "frontend/src/services/authService.ts",
          "backend/src/controllers/authController.ts",
          "backend/src/middlewares/auth.ts",
          "backend/src/middlewares/rbac.ts"
        ]
      },
      {
        "name": "Configurações",
        "description": "Configurações do sistema incluindo gerenciamento de usuários e empresa",
        "files": [
          "frontend/src/components/Configuracoes.tsx",
          "frontend/src/services/configuracoesService.ts",
          "backend/src/controllers/configuracaoController.ts"
        ]
      },
      {
        "name": "PDF Generation",
        "description": "Geração de PDFs personalizados para orçamentos com marca d'água",
        "files": [
          "frontend/src/components/PDFCustomization/PDFCustomizationModal.tsx",
          "frontend/src/services/pdfCustomizationService.ts",
          "backend/src/controllers/pdfOrcamentoController.ts",
          "backend/src/services/pdfOrcamento.service.ts",
          "backend/src/services/DynamicPDFService.ts"
        ]
      },
      {
        "name": "Equipes",
        "description": "Gestão de equipes de trabalho e alocações",
        "files": [
          "frontend/src/components/TeamManagerModal.tsx",
          "frontend/src/components/ModalGerenciarEquipes.tsx",
          "frontend/src/services/equipesService.ts",
          "backend/src/controllers/equipesController.ts",
          "backend/src/services/equipes.service.ts"
        ]
      },
      {
        "name": "Import/Export",
        "description": "Funcionalidade de importação e exportação de dados em formato JSON",
        "files": [
          "frontend/src/utils/importExportTemplates.ts",
          "frontend/src/utils/viewModeStorage.ts"
        ]
      }
    ]
  }
}
